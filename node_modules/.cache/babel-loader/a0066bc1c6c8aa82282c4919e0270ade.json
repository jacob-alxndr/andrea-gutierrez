{"ast":null,"code":"import _classCallCheck from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ImageCard from\"./ImageCard\";var Lightbox=/*#__PURE__*/function(_Component){_inherits(Lightbox,_Component);var _super=_createSuper(Lightbox);function Lightbox(props){var _this;_classCallCheck(this,Lightbox);_this=_super.call(this,props);_this.state={isDisplayed:[],yAxis:0};_this.updateDisplay=_this.updateDisplay.bind(_assertThisInitialized(_this));_this.handleDirection=_this.handleDirection.bind(_assertThisInitialized(_this));return _this;}_createClass(Lightbox,[{key:\"componentDidMount\",value:function componentDidMount(){// console.log(\"Lightbox\", \"Mount\");\nvar displayedList=Array.from({length:this.props.imageSet.length}).map(function(img,i){return i===0?true:false;});this.setState({isDisplayed:displayedList});document.addEventListener(\"keydown\",this.handleDirection);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.imageSet!==this.props.imageSet){var displayedList=Array.from({length:this.props.imageSet.length}).map(function(img,i){return i===0?true:false;});this.setState({isDisplayed:displayedList});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleDirection);}},{key:\"handleDirection\",value:function handleDirection(e){var direction=e.currentTarget.innerText;var index=this.state.isDisplayed.findIndex(function(i){return i===true;});if(e.code===\"ArrowLeft\"||direction===\"prev\"){this.updateDisplay(index,true);}else if(e.code===\"ArrowRight\"||direction===\"next\"){this.updateDisplay(index);}else{return false;}}},{key:\"updateDisplay\",value:function updateDisplay(index){var back=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var newDisplayed=this.state.isDisplayed.map(function(img){return false;});if(back){if(index-1<0){newDisplayed[this.state.isDisplayed.length-1]=true;}else if(index-1>=0){console.log(\"else if\");newDisplayed[index-1]=true;}}else if(back===false){if(index+1>this.state.isDisplayed.length-1){newDisplayed[0]=true;}else if(index+1<=this.state.isDisplayed.length-1){newDisplayed[index+1]=true;}}this.setState({isDisplayed:newDisplayed},function(){var index=this.state.isDisplayed.findIndex(function(i){return i===true;});this.props.updateIndex(index);});}},{key:\"render\",value:function render(){var _this2=this;var isDisplayed=this.state.isDisplayed;var lightBox;this.props.isModal?lightBox=/*#__PURE__*/React.createElement(\"div\",{className:\"Lightbox\"},/*#__PURE__*/React.createElement(\"button\",{className:\"close\",onClick:this.props.history.goBack},\"close\"),/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleDirection},\"prev\"),/*#__PURE__*/React.createElement(\"div\",{className:\"Lightbox__container\",tabIndex:0},this.props.imageSet.map(function(img,i){return/*#__PURE__*/React.createElement(ImageCard,{styles:\"home\",index:i,updateDisplay:_this2.updateDisplay,key:i,src:img.url,alt:img.alt,display:isDisplayed[i],images:img.images});})),/*#__PURE__*/React.createElement(\"button\",{onClick:this.handleDirection},\"next\")):lightBox=/*#__PURE__*/React.createElement(\"div\",{className:\"Lightbox\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Lightbox__container\",tabIndex:0},this.props.imageSet.map(function(img,i){return/*#__PURE__*/React.createElement(ImageCard,{styles:\"home\",index:i,updateDisplay:_this2.updateDisplay,key:i,src:img.url,alt:img.alt,display:isDisplayed[i],images:img.images});})));return lightBox;}}]);return Lightbox;}(Component);export{Lightbox as default};","map":{"version":3,"sources":["/Users/Jamartinez510/Sites/projects/andrea-gutierrez/src/js/components/Lightbox.js"],"names":["React","Component","ImageCard","Lightbox","props","state","isDisplayed","yAxis","updateDisplay","bind","handleDirection","displayedList","Array","from","length","imageSet","map","img","i","setState","document","addEventListener","prevProps","removeEventListener","e","direction","currentTarget","innerText","index","findIndex","code","back","newDisplayed","console","log","updateIndex","lightBox","isModal","history","goBack","url","alt","images"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ImageCard from \"./ImageCard\";\n\nexport default class Lightbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isDisplayed: [],\n      yAxis: 0,\n    };\n    this.updateDisplay = this.updateDisplay.bind(this);\n    this.handleDirection = this.handleDirection.bind(this);\n  }\n\n  componentDidMount() {\n    // console.log(\"Lightbox\", \"Mount\");\n\n    const displayedList = Array.from({\n      length: this.props.imageSet.length,\n    }).map((img, i) => (i === 0 ? true : false));\n    this.setState({ isDisplayed: displayedList });\n    document.addEventListener(\"keydown\", this.handleDirection);\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.imageSet !== this.props.imageSet) {\n      const displayedList = Array.from({\n        length: this.props.imageSet.length,\n      }).map((img, i) => (i === 0 ? true : false));\n      this.setState({ isDisplayed: displayedList });\n    }\n  }\n  componentWillUnmount() {\n    document.removeEventListener(\"keydown\", this.handleDirection);\n  }\n  handleDirection(e) {\n    const direction = e.currentTarget.innerText;\n    const index = this.state.isDisplayed.findIndex((i) => i === true);\n    if (e.code === \"ArrowLeft\" || direction === \"prev\") {\n      this.updateDisplay(index, true);\n    } else if (e.code === \"ArrowRight\" || direction === \"next\") {\n      this.updateDisplay(index);\n    } else {\n      return false;\n    }\n  }\n  updateDisplay(index, back = false) {\n    const newDisplayed = this.state.isDisplayed.map((img) => false);\n    if (back) {\n      if (index - 1 < 0) {\n        newDisplayed[this.state.isDisplayed.length - 1] = true;\n      } else if (index - 1 >= 0) {\n        console.log(\"else if\");\n        newDisplayed[index - 1] = true;\n      }\n    } else if (back === false) {\n      if (index + 1 > this.state.isDisplayed.length - 1) {\n        newDisplayed[0] = true;\n      } else if (index + 1 <= this.state.isDisplayed.length - 1) {\n        newDisplayed[index + 1] = true;\n      }\n    }\n    this.setState({ isDisplayed: newDisplayed }, function () {\n      const index = this.state.isDisplayed.findIndex((i) => i === true);\n      this.props.updateIndex(index);\n    });\n  }\n\n  render() {\n    const { isDisplayed } = this.state;\n    let lightBox;\n    this.props.isModal\n      ? (lightBox = (\n          <div className=\"Lightbox\">\n            <button className={\"close\"} onClick={this.props.history.goBack}>\n              close\n            </button>\n            <button onClick={this.handleDirection}>prev</button>\n            <div className=\"Lightbox__container\" tabIndex={0}>\n              {this.props.imageSet.map((img, i) => {\n                return (\n                  <ImageCard\n                    styles={\"home\"}\n                    index={i}\n                    updateDisplay={this.updateDisplay}\n                    key={i}\n                    src={img.url}\n                    alt={img.alt}\n                    display={isDisplayed[i]}\n                    images={img.images}\n                  />\n                );\n              })}\n            </div>\n            <button onClick={this.handleDirection}>next</button>\n          </div>\n        ))\n      : (lightBox = (\n          <div className=\"Lightbox\">\n            <div className=\"Lightbox__container\" tabIndex={0}>\n              {this.props.imageSet.map((img, i) => {\n                return (\n                  <ImageCard\n                    styles={\"home\"}\n                    index={i}\n                    updateDisplay={this.updateDisplay}\n                    key={i}\n                    src={img.url}\n                    alt={img.alt}\n                    display={isDisplayed[i]}\n                    images={img.images}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        ));\n\n    return lightBox;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}