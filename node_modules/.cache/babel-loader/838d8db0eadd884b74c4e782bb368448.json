{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import ImageCard from\"./ImageCard\";import RowContainer from\"../layout/RowContainer\";import{gsap}from\"gsap\";import{ScrollTrigger}from\"gsap/ScrollTrigger.js\";gsap.registerPlugin(ScrollTrigger);var ImageGallery=/*#__PURE__*/function(_Component){_inherits(ImageGallery,_Component);var _super=_createSuper(ImageGallery);function ImageGallery(props){var _this;_classCallCheck(this,ImageGallery);_this=_super.call(this,props);_this.state={galleries:[],justifyContent:[]};_this.myElements=[];_this.myTriggers=[];return _this;}_createClass(ImageGallery,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(this.myTriggers);this.myTriggers=this.myTriggers.map(function(el){return el.myRef.current;});this.myElements=this.myElements.map(function(el){return el.imageRef.current;});this.myElements.forEach(function(el,i){var tl=gsap.timeline({paused:true,scrollTrigger:{trigger:_this2.myTriggers[i],start:\"start 65%\",end:\"start 70%\"// scrub: 2,\n// markers: true,\n}});tl.fromTo(el,1.3,{skewX:30,scale:2},{xPercent:100,skewX:0,transformOrigin:\"0% 100%\",ease:\"expo.inOut\"}// skewY: 4,\n// clearProps: \"all\",\n);});case 4:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.galleries!==this.props.galleries){this.setState({galleries:this.props.galleries});}}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,match=_this$props.match,location=_this$props.location,history=_this$props.history;return/*#__PURE__*/React.createElement(\"div\",{className:\"ImageGallery\"},this.props.galleries.sort(function(a,b){return a.position>b.position?1:-1;}).map(function(gallery,i){var heroSrc=gallery.heroSrc,title=gallery.title,slug=gallery.slug,year=gallery.year,alt=gallery.alt,link=gallery.link,images=gallery.images;return/*#__PURE__*/React.createElement(RowContainer,{key:slug,ref:function ref(node){return _this3.myTriggers[i]=node;}},/*#__PURE__*/React.createElement(ImageCard,{ref:function ref(node){return _this3.myElements[i]=node;},index:i,key:i,src:heroSrc,title:title,slug:slug,year:year,alt:alt,link:link,images:images,match:match,location:location,history:history,styles:\"\",height:{minHeight:\"30rem\"}}));}));}}]);return ImageGallery;}(Component);export{ImageGallery as default};","map":{"version":3,"sources":["/Users/Jamartinez510/Sites/projects/andrea-gutierrez/src/js/components/ImageGallery.js"],"names":["React","Component","ImageCard","RowContainer","gsap","ScrollTrigger","registerPlugin","ImageGallery","props","state","galleries","justifyContent","myElements","myTriggers","console","log","map","el","myRef","current","imageRef","forEach","i","tl","timeline","paused","scrollTrigger","trigger","start","end","fromTo","skewX","scale","xPercent","transformOrigin","ease","prevProps","setState","match","location","history","sort","a","b","position","gallery","heroSrc","title","slug","year","alt","link","images","node","minHeight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ImageCard from \"./ImageCard\";\nimport RowContainer from \"../layout/RowContainer\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger.js\";\ngsap.registerPlugin(ScrollTrigger);\n\nexport default class ImageGallery extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      galleries: [],\n      justifyContent: [],\n    };\n    this.myElements = [];\n    this.myTriggers = [];\n  }\n\n  async componentDidMount() {\n    console.log(this.myTriggers);\n    this.myTriggers = this.myTriggers.map((el) => el.myRef.current);\n    this.myElements = this.myElements.map((el) => el.imageRef.current);\n    this.myElements.forEach((el, i) => {\n      const tl = gsap.timeline({\n        paused: true,\n        scrollTrigger: {\n          trigger: this.myTriggers[i],\n          start: \"start 65%\",\n          end: \"start 70%\",\n          // scrub: 2,\n\n          // markers: true,\n        },\n      });\n      tl.fromTo(\n        el,\n        1.3,\n\n        {\n          skewX: 30,\n          scale: 2,\n        },\n        {\n          xPercent: 100,\n          skewX: 0,\n          transformOrigin: \"0% 100%\",\n          ease: \"expo.inOut\",\n        }\n        // skewY: 4,\n        // clearProps: \"all\",\n      );\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.galleries !== this.props.galleries) {\n      this.setState({ galleries: this.props.galleries });\n    }\n  }\n\n  render() {\n    const { match, location, history } = this.props;\n\n    return (\n      <div className=\"ImageGallery\">\n        {this.props.galleries\n          .sort((a, b) => (a.position > b.position ? 1 : -1))\n          .map((gallery, i) => {\n            const { heroSrc, title, slug, year, alt, link, images } = gallery;\n\n            return (\n              <RowContainer\n                key={slug}\n                ref={(node) => (this.myTriggers[i] = node)}\n              >\n                <ImageCard\n                  ref={(node) => (this.myElements[i] = node)}\n                  index={i}\n                  key={i}\n                  src={heroSrc}\n                  title={title}\n                  slug={slug}\n                  year={year}\n                  alt={alt}\n                  link={link}\n                  images={images}\n                  match={match}\n                  location={location}\n                  history={history}\n                  styles={\"\"}\n                  height={{ minHeight: \"30rem\" }}\n                />\n              </RowContainer>\n            );\n          })}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}