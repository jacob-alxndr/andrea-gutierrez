{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Jamartinez510/Sites/projects/andrea-gutierrez/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{BrowserRouter as Router,Switch,Route,Redirect}from\"react-router-dom\";import{getContent}from\"./helpers/getContent\";import Home from\"./layout/Home\";import Portfolio from\"./layout/Portfolio\";import Contact from\"./layout/Contact\";import Modal from\"./components/Modal\";import Container from\"./layout/Container\";import FlexContainer from\"./layout/FlexContainer\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={gallerySets:[],imageSet:[],currentIndex:0};_this.updateIndex=_this.updateIndex.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"updateIndex\",value:function updateIndex(i){this.setState({currentIndex:i});}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,imageSet,galleries,imageCards,images;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getContent();case 2:data=_context.sent;imageSet=data.filter(function(card){return card.type===\"post-gallery\";});galleries=imageSet.map(function(set){var _set$data=set.data,title=_set$data.title,images=_set$data.images,link=_set$data.link,year=_set$data.year;var gallerySet={title:title[0].text,heroSrc:set.data[\"hero-image\"].url,alt:set.data[\"hero-image\"].alt,year:year,link:link,images:images.map(function(img){return img.image;}),slug:set.uid,position:set.data.position};return gallerySet;});imageCards=data.filter(function(card){return card.type===\"post-imagecard\";});images=imageCards.reverse().map(function(image){return{url:image.data[\"desktop-image\"].url,mobileSrc:image.data[\"mobile-image\"].url,alt:image.data.title[0].text,year:image.data.year[0]?image.data.year[0].text:\"\",link:image.data.link.url};});this.setState({gallerySets:galleries,imageSet:images});case 8:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/React.createElement(Home,{imageSet:_this2.state.imageSet});}}),/*#__PURE__*/React.createElement(Route,{key:\"portfolio\",exact:true,path:\"/portfolio\",render:function render(routeProps){return/*#__PURE__*/React.createElement(Portfolio,{routeProps:routeProps,galleries:_this2.state.gallerySets});}}),/*#__PURE__*/React.createElement(Route,{key:\"modal\",exact:true,path:\"/portfolio/:id\",render:function render(routeProps){return/*#__PURE__*/React.createElement(Modal,{history:routeProps.history,imageSet:routeProps.location.state,updateIndex:_this2.updateIndex});}}),/*#__PURE__*/React.createElement(Route,{exact:true,key:\"contact\",path:\"/contact\",component:Contact}),/*#__PURE__*/React.createElement(Route,{path:\"/*\"},/*#__PURE__*/React.createElement(Redirect,{to:\"/\"})))));}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/Jamartinez510/Sites/projects/andrea-gutierrez/src/js/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Redirect","getContent","Home","Portfolio","Contact","Modal","Container","FlexContainer","App","props","state","gallerySets","imageSet","currentIndex","updateIndex","bind","i","setState","data","filter","card","type","galleries","map","set","title","images","link","year","gallerySet","text","heroSrc","url","alt","img","image","slug","uid","position","imageCards","reverse","mobileSrc","routeProps","history","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { getContent } from \"./helpers/getContent\";\nimport Home from \"./layout/Home\";\nimport Portfolio from \"./layout/Portfolio\";\nimport Contact from \"./layout/Contact\";\nimport Modal from \"./components/Modal\";\nimport Container from \"./layout/Container\";\nimport FlexContainer from \"./layout/FlexContainer\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gallerySets: [],\n      imageSet: [],\n      currentIndex: 0,\n    };\n    this.updateIndex = this.updateIndex.bind(this);\n  }\n\n  updateIndex(i) {\n    this.setState({ currentIndex: i });\n  }\n  async componentDidMount() {\n    // console.log(\"App\", \"Mount\");\n    const data = await getContent();\n    const imageSet = data.filter((card) => card.type === \"post-gallery\");\n    const galleries = imageSet.map((set) => {\n      const { title, images, link, year } = set.data;\n\n      const gallerySet = {\n        title: title[0].text,\n        heroSrc: set.data[\"hero-image\"].url,\n        alt: set.data[\"hero-image\"].alt,\n        year,\n        link,\n        images: images.map((img) => img.image),\n        slug: set.uid,\n        position: set.data.position,\n      };\n      return gallerySet;\n    });\n    const imageCards = data.filter((card) => card.type === \"post-imagecard\");\n    const images = imageCards.reverse().map((image) => ({\n      url: image.data[\"desktop-image\"].url,\n      mobileSrc: image.data[\"mobile-image\"].url,\n      alt: image.data.title[0].text,\n      year: image.data.year[0] ? image.data.year[0].text : \"\",\n      link: image.data.link.url,\n    }));\n    this.setState({ gallerySets: galleries, imageSet: images });\n  }\n\n  render() {\n    return (\n      <Router>\n        <div className=\"App\">\n          <Switch>\n            <Route\n              exact\n              path=\"/\"\n              render={() => <Home imageSet={this.state.imageSet} />}\n            />\n            <Route\n              key=\"portfolio\"\n              exact\n              path=\"/portfolio\"\n              render={(routeProps) => (\n                <Portfolio\n                  routeProps={routeProps}\n                  galleries={this.state.gallerySets}\n                />\n              )}\n            />\n            <Route\n              key=\"modal\"\n              exact\n              path=\"/portfolio/:id\"\n              render={(routeProps) => (\n                <Modal\n                  history={routeProps.history}\n                  imageSet={routeProps.location.state}\n                  updateIndex={this.updateIndex}\n                />\n              )}\n            />\n            <Route exact key=\"contact\" path=\"/contact\" component={Contact} />\n            <Route path=\"/*\">\n              <Redirect to=\"/\" />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}